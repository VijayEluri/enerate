<%@jet imports="org.eclipse.emf.ecore.*"%>
<%@jet imports="java.util.*"%>
<%-- FIXME: Remove duplication with the 'import' template. --%>
<%
ArrayList<String> imported = new ArrayList<String>();
ArrayList<String> traitNames = new ArrayList<String>();
HashMap<String, String> eAttributeTraitMap = new HashMap<String, String>();

eAttributeTraitMap.put("EString", "db.StringProperty(default='')");
eAttributeTraitMap.put("EInt", "db.IntegerProperty(default=0)");
eAttributeTraitMap.put("EBoolean", "db.BooleanProperty(default=False)");
//eAttributeTraitMap.put("EDate", "db.DateProperty()");
eAttributeTraitMap.put("EDate", "db.StringProperty(default='')");
eAttributeTraitMap.put("EDouble", "db.FloatProperty(default=0.0)");
eAttributeTraitMap.put("EList", "db.ListProperty(default=[])");
eAttributeTraitMap.put("EEnumerator", "db.StringProperty(default='')");
eAttributeTraitMap.put("EFloat", "db.FloatProperty(default=0.0)");
eAttributeTraitMap.put("ELong", "db.IntegerProperty(default=0)");
eAttributeTraitMap.put("EMap", "db.ListProperty(default=[])");
eAttributeTraitMap.put("EShort", "db.IntegerProperty(default=0)");

eAttributeTraitMap.put("Integer", "db.IntegerProperty(default=0)");
eAttributeTraitMap.put("Boolean", "db.BooleanProperty(default=False)");
%>
<c:if test="count($eAttribute/eAnnotations) > 0">
<c:setVariable var="eAnnotated" select="$eAttribute"/>
    # <c:include template="templates/comment.jet" passVariables="eAnnotated"/>
</c:if><c:setVariable select="string($eAttribute/eAttributeType/@name)" var="eAttributeTypeName"/><%
String atn = (String)context.getVariable("eAttributeTypeName");
// Trait name.
String tn;

if ( eAttributeTraitMap.containsKey( atn ) ) {
    tn = eAttributeTraitMap.get( atn );
} else {
    tn = atn;
}
%>    <c:get select="underscore($eAttribute/@name)"/> = <%= tn %>
